{% extends "base_generic.html" %}

{% block title %}
<title>Cadastro Cliente</title>
{% endblock %}

{% block content %}
{% load staticfiles %}

    <div class="container col-md-4">
        <h1 class="display-4 text-center">Cadastre-se</h1>
        <p class="text-center">Para criar uma conta no nosso site, basta preencher o formulário abaixo</p>
    </div>

    <div class="container-fluid col-md-4">

        <form action="/cadastra_cliente" method="POST" autocomplete="off">
          <div class="form-row">
              <div class="form-group col-md-12">
                  <label for="nome">Nome do Cliente</label>
                  <input type="tel" class="form-control" name="nome" id="nome" placeholder="" required="">
              </div>
          </div>
          <div class="form-row">
              <div class="form-group col-md-12">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" name="email" id="email" placeholder="email@email.com" required="">
              </div>
          </div>
          <div class="form-row">
              <div class="form-group col-md-12">
                  <label for="senha">Senha</label>
                  <input type="password" class="form-control" name="senha" id="senha" required="">
              </div>
          </div>
          <div class="form-row">

              <div class="form-group col-md-6" id="cpf_form">
                  <label for="cpf">CPF</label>
                  <input type="text" maxlength="11" minlength="11" class="form-control" name="cpf" id="cpf" placeholder="Exemplo: 12345678901" required="">
              </div>

              <div class="form-group col-md-6">
                  <label for="data_nascimento">Data de Nascimento</label>
                  <input type="date" class="form-control" name="data_nascimento" id="data_nascimento" required="">
              </div>

              <div class="form-group col-md-6">
                  <label for="telefone">Telefone</label>
                  <input type="tel" minlength="9" maxlength="9" class="form-control" name="telefone" id="telefone" placeholder="Exemplo: 123456789" required="">
              </div>

              <div class="form-group col-md-6">
                  <label for="cep">CEP</label>
                  <input type="tel" maxlength="8" minlength="8" class="form-control" name="cep" id="cep" placeholder="Exemplo: 12345678" required="">
              </div>

              <div class="form-group col-md-6">
                  <label for="num_casa">Número da Residência</label>
                  <input type="text" class="form-control" name="num_casa" id="num_casa" placeholder="Exemplo: 175" required="">
              </div>

              <div class="form-group col-md-6">
                  <label for="complemento">Complemento</label>
                  <input type="text" class="form-control" name="complemento" id="complemento" placeholder="Exemplo: Ap. 32" required="">
              </div>

          </div>
            <div class="form-group row justify-content-md-center">
                <button type="submit" class="btn btn-primary">Próximo</button>
            </div>
        </form>
        {% if error %}
        <div>
            <br/>
            <p class="alert alert-danger">Este CPF já possui um cadastro</p>
        </div>
        {% endif %}
        {% if cadastro %}
        <div>
            <br/>
            <p class="alert alert-danger">Email já cadastrado!</p>
        </div>
        {% endif %}
    </div>

    {% comment %} <script>
    $('#cpf_form input[type=text]').on('change invalid', function() {
        var textfield = $(this).get(0);

        // 'setCustomValidity not only sets the message, but also marks
        // the field as invalid. In order to see whether the field really is
        // invalid, we have to remove the message first
        textfield.setCustomValidity('');

        if (!textfield.validity.valid) {
            textfield.setCustomValidity('O CPF deve ter exatamente 11 dígitos');
        }
    });
    </script> {% endcomment %}

{% endblock %}
